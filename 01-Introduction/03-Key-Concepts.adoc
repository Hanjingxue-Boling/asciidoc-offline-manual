= 重要概念
:toc: auto

本页向你介绍在学习 AsciiDoc 时会遇到的一些概念和术语。稍后将在文档中更深入地介绍每个概念。使用此页面作为开始熟悉行话的一种方式。

== 文档

文档（Document）表示为 AsciiDoc 中的顶级块元素。它由

. 一个可选的文档标题（document header）

和

.以下其中之一
* 前面有一个可选的前言（preamble）的一个或多个章节（section）
* 或仅一系列顶级块

组成。

可以使用文档标题配置文档。文档标题本身不是块，而是为文档提供元数据，例如文档标题（document title）和文档属性（document attributes）。

== 元素

元素（Element）是文档中可识别、可寻址和可组合的内容块。AsciiDoc 文档仅仅是它包含的所有元素的组合。

元素是类型的层次结构，其中一个元素可能是一组元素的特化。例如，侧边栏块（sidebar block）是块元素，因此它共享所有块元素的特征，并且还添加了一些自己的特征。

元素包括文档本身、章节、块、块宏、分隔符、内联短语和宏。

块元素（block element）垂直（按行）堆叠在其他块元素的上方或下方。块元素通常简称为块（blocks）。块构成文档的主要树结构。

内联元素（inline element）是块元素或其属性之一（例如，块标题）内的一段内容。内联元素包括格式化文本（斜体、粗体等）、内联宏和元素引用。填补这些元素之间空白的是未替换的文本。内联元素的结构不如块状元素，因为它们更倾向于替换而不是树状结构。

== 属性

属性（attribute）是一个名称/值对，用于存储和声明 AsciiDoc 语言中的元数据。属性可用于影响语法、控制行为、自定义样式、激活或配置集成，或存储内联替换内容。属性真正将 AsciiDoc 与其他轻量级标记语言区分开来。

属性实际上是一个抽象术语。有两种具体的属性分类：文档属性（document attribute）和元素属性（element attribute）。

=== 文档属性

顾名思义，文档属性直接与文档相关联。它们用于在运行时导出有关文档的信息、控制处理器的行为以及存储可重用的值或短语。因此，它们是一种与 AsciiDoc 处理器的双向通信通道。

可以使用属性引用（attribute reference）在内容中引用文档属性（需要提前启用了属性替换）。文档属性可以在文档中使用属性条目（attribute entry）（通常在文档标题中）定义，也可以通过 API 或 CLI 定义。 并非所有文档属性都可以修改。

=== 元素属性

元素属性是特定元素的元数据，例如块或内联元素。它们在属性列表中定义并且仅适用于该元素。属性列表的放置形式取决于元素。属性名称可以是字符串（即命名属性）或隐式数字索引（即未命名的位置属性）。

与文档属性不同，元素属性不能直接从文档模型的内容中引用。换句话说，不能使用属性引用来解析元素属性。元素属性可丰富或配置元素的行为，例如应用角色（role）或设置图像的宽度。元素属性是使用元素上的属性列表或像块标题行这样的可用速记来定义的。

== 宏

在阅读本文档时，您会经常看到对术语宏（macro）的引用。宏是一种用于表示非文本元素的语法或使用提供的元数据扩展为文本的语法。请参阅link:https://en.wikipedia.org/wiki/Macro_(computer_science)[宏]以了解有关该术语含义的更多信息。

以下是一个块宏的示例：

====
image::../Reference/images/geko.jpg[Geko,240,180]
====

下面是一个内联宏的例子：

====
AsciiDoc 官方link:https://docs.asciidoctor.org[文档^]详见此处。
====

你可以将宏视为函数。宏的语法遵循以下形式：一个名称、（有时是可选的）一个目标以及用方括号括起来的，一个由零个或多个元素属性组成的属性列表。

宏有两种变体：块宏（block macro）和内联宏（inline macro）。

* 在块宏中，名称和目标由两个冒号 (::) 分隔，并且它必须单独占一行。
* 在内联宏中，名称和目标由单个冒号 (:) 分隔，并且可以与文本和其他内联元素并排放置。
* 块状宏总是被解析，而内联宏只有在启用宏替换的情况下才会被解析。

== 预处理器指令

AsciiDoc 中还有另一种看起来很像但并不是块宏的语法。这些是预处理器指令（Preprocessor directives）。

预处理器指令是控制输入解析器的行的函数。条件预处理器指令可以根据属性（ifdef、ifndef）或其他任意条件（ifeval）的存在来配置要包含或排除的行。include 指令可以从另一个文件中添加额外的行。

预处理器指令与块宏具有共同的特征。与块宏一样，预处理器指令必须单独占一行。虽然预处理器指令可以访问文档属性，但它不知道周围的上下文。它只是一个线路处理器。与块宏一样，include 指令可以具有元素属性，尽管它们仅适用于预处理操作本身。